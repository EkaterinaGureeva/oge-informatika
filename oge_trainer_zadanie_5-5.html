<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Учебный тренажёр ОГЭ по информатике — Задание 5</title>
<style>
:root{
  --bg1:#eaf3ff; --bg2:#ffffff;
  --card:#ffffff; --stroke:#d7e6ff;
  --blue:#1f6feb; --blue2:#2b8cff;
  --text:#0b1b3a; --muted:#51607a;
  --ok:#0a8f4e; --bad:#d93025;
  --shadow:0 18px 40px rgba(23,56,108,.12);
  --radius:18px;
}
*{box-sizing:border-box}
body{
  margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  background: radial-gradient(1200px 500px at 30% 0%, #d9ecff 0%, transparent 60%),
              radial-gradient(900px 500px at 80% 20%, #e8f4ff 0%, transparent 60%),
              linear-gradient(180deg, var(--bg1), var(--bg2));
}
.container{max-width:1200px;margin:22px auto 40px;padding:0 16px}
.topbar{
  display:flex;align-items:center;gap:12px;flex-wrap:nowrap;
  background:rgba(255,255,255,.86);
  border:1px solid var(--stroke);
  border-radius:22px;
  padding:10px 12px;
  box-shadow:0 10px 24px rgba(23,56,108,.10);
}
.badge{
  width:40px;height:40px;border-radius:999px;display:grid;place-items:center;
  background:linear-gradient(135deg,var(--blue),var(--blue2));
  color:#fff;font-weight:800;
}
.title{white-space:nowrap;font-size:20px;color:var(--blue);font-weight:500;}
.controls{margin-left:auto;display:flex;align-items:center;gap:8px;flex-wrap:nowrap;white-space:nowrap}
select,button{
  height:38px;border-radius:999px;border:1px solid var(--stroke);
  background:#fff;padding:0 12px;font-size:14px;color:var(--text);
}
select{min-width:200px;max-width:260px}
button{cursor:pointer;background:linear-gradient(180deg,#ffffff,#f6fbff);}
button.primary{border-color:#bcd6ff;background:linear-gradient(180deg,#eef6ff,#e7f2ff);color:var(--blue);font-weight:700;}
button:disabled{opacity:.55;cursor:not-allowed}
.note{margin:14px 2px 0;color:var(--muted);font-size:13px;line-height:1.35}

.grid{display:flex;gap:16px;margin-top:16px;align-items:flex-start}
.tasks{flex:1 1 auto;min-width:0}
.side{flex:0 0 360px;max-width:360px;min-width:280px}
@media (max-width:1100px){.grid{flex-direction:column} .side{order:-1;position:static;max-width:none;min-width:0;flex:0 0 auto}}

.panel{background:rgba(255,255,255,.78);border:1px solid var(--stroke);border-radius:var(--radius);box-shadow:var(--shadow);}
.tasks{padding:14px;min-width:0}
.sectionTitle{
  margin:14px 4px 6px;
  font-weight:900;
  color:var(--blue);
  font-size:15px;
}
.taskCard{background:var(--card);border:1px solid var(--stroke);border-radius:16px;padding:14px 14px 12px;margin:10px 0;}
.taskHead{display:flex;align-items:center;gap:10px;justify-content:space-between}
.taskNum{font-weight:800;color:var(--blue)}
.tag{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--stroke);
  background:linear-gradient(180deg,#ffffff,#f2f8ff);color:var(--blue);white-space:nowrap;}
.prompt{margin:10px 0 12px;line-height:1.45;color:var(--text);white-space:pre-line;}
.answerRow{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
input[type="text"]{flex:1;min-width:220px;height:38px;border-radius:10px;border:1px solid var(--stroke);padding:0 10px;font-size:14px;}
.result{font-weight:800}
.result.ok{color:var(--ok)}
.result.bad{color:var(--bad)}

.side{padding:14px;min-width:0;position:sticky;top:14px;align-self:start;z-index:1}
.sideHeader{display:flex;align-items:center;gap:10px;background:linear-gradient(135deg,#e7f3ff,#dff0ff);
  border:1px solid var(--stroke);border-radius:16px;padding:12px;}
.icon{width:38px;height:38px;border-radius:12px;display:grid;place-items:center;
  background:linear-gradient(135deg,var(--blue),var(--blue2));color:#fff;font-weight:900;}
.sideTitle{color:var(--blue);font-weight:800;font-size:16px;line-height:1.1}
.sideSub{color:var(--blue);opacity:.85;font-size:12px}
.metrics{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-top:12px}
.metric{background:linear-gradient(180deg,#ffffff,#f2fbff);border:1px solid var(--stroke);border-radius:14px;padding:10px;}
.metric .v{font-size:22px;font-weight:900;color:var(--blue)}
.metric .l{font-size:12px;color:var(--muted)}
.scale{margin-top:12px;border:1px solid var(--stroke);border-radius:14px;background:#fff;padding:10px;}
.scaleTitle{font-weight:800;color:var(--blue);margin-bottom:8px}
.scaleGrid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.pill{border:1px solid var(--stroke);border-radius:12px;padding:8px 6px;text-align:center;background:linear-gradient(180deg,#fff,#f7fbff);}
.pill .g{font-weight:950;color:var(--blue);font-size:18px;line-height:1}
.pill .r{color:var(--muted);font-size:12px;margin-top:3px}

.modalBg{position:fixed;inset:0;background:rgba(10,22,45,.35);display:none;align-items:center;justify-content:center;padding:18px;z-index:999;}
.modal{background:#fff;border-radius:18px;max-width:920px;width:100%;border:1px solid var(--stroke);
  box-shadow:0 24px 80px rgba(0,0,0,.25);overflow:hidden;}
.modalTop{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;background:linear-gradient(135deg,#eef6ff,#e5f1ff);border-bottom:1px solid var(--stroke);}
.modalTop .t{color:var(--blue);font-weight:900}
.modalBody{padding:14px;max-height:72vh;overflow:auto}
.teacherGrid{display:grid;grid-template-columns:140px 1fr 180px;gap:8px}
.teacherGrid .h{font-size:12px;color:var(--muted);font-weight:800}
.teacherCell{border:1px solid var(--stroke);border-radius:10px;background:#fff;padding:8px}
.teacherCell code{color:var(--blue);font-weight:900}
.teacherCell input{width:100%;height:36px;border-radius:10px}
.smallRow{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-bottom:12px}
.smallRow input{width:160px}

.taskCard,.prompt{overflow-wrap:anywhere;word-break:break-word}
</style>
</head>
<body>
<div class="container">
  <div class="topbar">
    <div class="badge">5</div>
    <div class="title">Учебный тренажёр ОГЭ по информатике</div>
    <div class="controls">
      <select id="catSelect" title="Набор">
        <option value="__all">Все задания</option>
      </select>
      <button id="btnTeacher">Учитель</button>
      <button id="btnCheck" class="primary">Проверить</button>
      <button id="btnScore">Оценка</button>
      <button id="btnPrint">Печать/PDF</button>
      <button id="btnReset">Сбросить</button>
    </div>
  </div>

  <div class="note">
    Внимание: проверку можно выполнить <b>после окончания работы</b>. После нажатия «Проверить» исправление уже введённых ответов и внесение новых будет недоступно. По итогам проверки тренажёр покажет баллы и оценку.
  </div>

  <div class="grid">
    <div class="panel tasks">
      <div id="tasksRoot"></div>
    </div>

    <div class="panel side">
      <div class="sideHeader">
        <div class="icon">≡</div>
        <div>
          <div class="sideTitle">Оценка и баллы</div>
          <div class="sideSub">Итог по выполненным заданиям</div>
        </div>
      </div>
      <div class="metrics">
        <div class="metric"><div class="v" id="mDone">0</div><div class="l">выполнено</div></div>
        <div class="metric"><div class="v" id="mPts">0</div><div class="l">баллов</div></div>
        <div class="metric"><div class="v" id="mGrade">—</div><div class="l">оценка</div></div>
      </div>
      <div class="scale">
        <div class="scaleTitle">Шкала оценивания</div>
        <div class="scaleGrid">
          <div class="pill"><div class="g">5</div><div class="r">80–100%</div></div>
          <div class="pill"><div class="g">4</div><div class="r">60–79%</div></div>
          <div class="pill"><div class="g">3</div><div class="r">40–59%</div></div>
          <div class="pill"><div class="g">2</div><div class="r">0–39%</div></div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modalBg" id="modalBg">
  <div class="modal" role="dialog" aria-modal="true">
    <div class="modalTop">
      <div class="t">Режим учителя</div>
      <button id="btnCloseModal">Закрыть</button>
    </div>
    <div class="modalBody" id="modalBody"></div>
  </div>
</div>

<script>
const TASKS = [{"uid": "30AEF8", "fileNo": 1, "code": "30AEF8", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nвычти 4\nПервая из них возводит число на экране во вторую степень, вторая – вычитает из числа 4.\nСоставьте алгоритм получения из числа 1 числа 21, содержащий не более 5 команд. В ответе запишите только номера команд. Если таких алгоритмов более одного, то запишите любой из них.", "answer": "21212", "n": 1}, {"uid": "28809B", "fileNo": 3, "code": "28809B", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nзачеркни справа\nвозведи в квадрат\nПервая из них удаляет крайнюю правую цифру числа на экране, вторая – возводит число во вторую степень. Составьте алгоритм получения из числа 5 числа 1, содержащий не более 5 команд. В ответе\nзапишите только номера команд. Если таких алгоритмов более одного, то запишите любой из них.", "answer": "21221", "n": 2}, {"uid": "3415F4", "fileNo": 4, "code": "3415F4", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nзачеркни справа\nПервая из них возводит число на экране во вторую степень, вторая – удаляет крайнюю правую цифру числа. Составьте алгоритм получения из числа 3 числа 6, содержащий не более 5 команд. В ответе запишите  только  номера  команд.  Если  таких\nалгоритмов более одного, то запишите любой из них.", "answer": "11212", "n": 3}, {"uid": "2AEBC2", "fileNo": 5, "code": "2AEBC2", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nзачеркни слева\nвозведи в квадрат\nПервая из них удаляет крайнюю левую цифру числа на экране, вторая – возводит число во вторую степень. Составьте алгоритм получения из числа 8 числа 56, содержащий не более 5 команд. В ответе запишите  только  номера  команд.  Если  таких\nалгоритмов более одного, то запишите любой из них.", "answer": "21221", "n": 4}, {"uid": "04A1BF", "fileNo": 6, "code": "04A1BF", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 2\nПервая из них возводит число на экране во вторую степень, вторая прибавляет к числу 2. Составьте алгоритм получения из числа 1 числа 85, содержащий не более 5 команд. В ответе запишите только номера команд. Если таких алгоритмов более одного, то\nзапишите любой из них.", "answer": "21122\nЕдиницу возводить в квадрат нет смысла – лишняя операция, число при этом не изменится.\nЕсли возвести в квадрат 81, то за одну оставшуюся операцию явно не получить 85.", "n": 5}, {"uid": "04C70C", "fileNo": 7, "code": "04C70C", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nвычти 3\nПервая из них возводит число на экране во вторую степень, вторая – вычитает из числа 3. Составьте алгоритм получения из числа 1 числа 19, содержащий не более 5 команд. В ответе запишите только номера команд. Если таких алгоритмов более одного, то\nзапишите любой из них.", "answer": "22122\nВторая\tкоманда\tдаёт\tвозможность получения отрицательных чисел.", "n": 6}, {"uid": "21BF0A", "fileNo": 9, "code": "21BF0A", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nприбавь 1\nвозведи в квадрат\nПервая из них увеличивает число на экране на 1, вторая возводит его во вторую степень. Исполнитель работает только с натуральными числами. Составьте алгоритм получения из числа 1 числа 100, содержащий не более 5 команд. В ответе запишите только номера команд. Если таких алгоритмов более\nодного, то запишите любой из них.", "answer": "11212\nисполнитель\tработает\tтолько\tс натуральными числами", "n": 7}, {"uid": "2559E8", "fileNo": 10, "code": "2559E8", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 1\nПервая из них возводит число на экране во вторую степень, вторая – прибавляет к числу 1. Составьте алгоритм получения из числа 1 числа 26, содержащий не более 5 команд. В ответе запишите только номера\nкоманд. Если таких алгоритмов более одного, то запишите любой из них.\nтолько номера команд. Если таких алгоритмов более одного, то запишите любой из них.", "answer": "21212", "n": 8}, {"uid": "30A926", "fileNo": 12, "code": "30A926", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 3\nПервая из них возводит число на экране во вторую степень, вторая прибавляет к числу 3.\nСоставьте алгоритм получения из числа 2 числа 55, содержащий не более 5 команд. В ответе запишите только номера команд. Если таких алгоритмов более одного, то запишите любой из них.\nСледующее задание примечательно тем, что вторая\nкоманда даёт возможность получения отрицательных чисел. И они допустимы по условию.", "answer": "12122", "n": 9}, {"uid": "3106D8", "fileNo": 13, "code": "3106D8", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 1\nПервая из них возводит число на экране во вторую степень, вторая прибавляет к числу 1.\nСоставьте алгоритм получения из числа 2 числа 27, содержащий не более 5 команд. В ответе запишите только номера команд. Если таких алгоритмов более одного, то запишите любой из них.", "answer": "12122", "n": 10}, {"uid": "377B63", "fileNo": 14, "code": "377B63", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 3\nПервая из них возводит число на экране во вторую степень, вторая прибавляет к числу 3.\nСоставьте алгоритм получения из числа 1 числа 262, содержащий не более 5 команд. В ответе запишите только номера команд. Если таких алгоритмов более\nодного, то запишите любой из них.", "answer": "21122", "n": 11}, {"uid": "51395F", "fileNo": 17, "code": "51395F", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nвычти 5\nПервая из них возводит число на экране во вторую степень, вторая – вычитает из числа 5.\nСоставьте алгоритм получения из числа 1 числа 36, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "21221", "n": 12}, {"uid": "71B872", "fileNo": 18, "code": "71B872", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 1\nПервая из них возводит число на экране во вторую степень, вторая – прибавляет к числу 1.\nСоставьте алгоритм получения из числа 3 числа 84, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "11222\nИсполнитель может только увеличивать число. В связи с этим нет смысла возводить в квадрат числа больше 9, так как результат превысит 84 и последующими командами его невозможно уменьшить.", "n": 13}, {"uid": "7E2E0F", "fileNo": 19, "code": "7E2E0F", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 2\nПервая из них возводит число на экране во вторую степень, вторая увеличивает его на 2.\nСоставьте алгоритм получения из числа 1 числа 85, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "21122\nВозвести единицу в квадрат можно, но не нужно, так как эта операция не изменит число.", "n": 14}, {"uid": "965F06", "fileNo": 21, "code": "965F06", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 1\nПервая из них возводит число на экране во вторую степень, вторая – прибавляет к числу 1.\nСоставьте алгоритм получения из числа 2 числа 27, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "12122\nИсполнитель может только увеличивать число. Нет смысла возводить в квадрат числа больше 5, так как результат превысит 27 и последующими командами его невозможно уменьшить.", "n": 15}, {"uid": "96787D", "fileNo": 22, "code": "96787D", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 3\nПервая из них возводит число на экране во вторую степень, вторая увеличивает его на 3.\nСоставьте алгоритм получения из числа 1 числа 25, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "21222\nИсполнитель может только увеличивать\nчисло. Нет смысла возводить в квадрат числа\tбольше\t5,\tтак\tкак\tрезультат\nпревысит 25 и последующими командами его невозможно уменьшить.", "n": 16}, {"uid": "9CDE31", "fileNo": 23, "code": "9CDE31", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 2\nПервая из них возводит число на экране во вторую степень, вторая увеличивает его на 2.\nСоставьте алгоритм получения из числа 4 числа 68, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "22122\nНе\tрассматриваем\tквадраты\tчисел, превышающих 8.", "n": 17}, {"uid": "BB259E", "fileNo": 24, "code": "BB259E", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 1\nПервая из них возводит число на экране во вторую степень, вторая прибавляет к числу 1.\nСоставьте алгоритм получения из числа 2 числа 37, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "12212\nНе\tрассматриваем\tквадраты\tчисел, превышающих 6.", "n": 18}, {"uid": "C62471", "fileNo": 27, "code": "C62471", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nприбавь 2\nПервая из них возводит число на экране во вторую степень, вторая прибавляет к числу 2.\nСоставьте алгоритм получения из числа 1 числа 51, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "22212\nВозводить в квадрат число больше, чем 7 не нужно – результат превысит конечное число. При этом заданные операции могут его только увеличить.", "n": 19}, {"uid": "E8AFC9", "fileNo": 29, "code": "E8AFC9", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nвычти 2\nПервая из них возводит число на экране во вторую степень, вторая вычитает из числа 2.\nСоставьте алгоритм получения из числа 7 числа 79, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "22112", "n": 20}, {"uid": "EF705D", "fileNo": 30, "code": "EF705D", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nвычти 3\nПервая из них возводит число на экране во вторую степень, вторая – вычитает из числа 3.\nСоставьте алгоритм получения из числа 2 числа 46, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "22212", "n": 21}, {"uid": "4A5F46", "fileNo": 32, "code": "4A5F46", "category": "Набор 1", "text": "У исполнителя Квадратор две команды, которым присвоены номера:\nвозведи в квадрат\nвычти 4\nПервая из них возводит число на экране во вторую степень, вторая уменьшает число на 4.\nИсполнитель\tработает\tтолько с\tнатуральными числами.\nСоставьте алгоритм получения из числа 2 числа 64, содержащий не более пяти команд.", "answer": "11221\nПервой командой может быть только возведение в квадрат. Иначе получилось бы отрицательное число, но исполнитель работает только с натуральными числами. Дальше также может быть только возведение в квадрат, так как 0 не является натуральным числом.\nК получившемуся числу 16 можно применить\nобе команды. Но в результате возведения в квадрат получится слишком большое число,\nкоторое за две оставшиеся команды никак не уменьшить до 64.\nТакже, слишком большим окажется число, если возвести 12 в квадрат.\nОстаётся полученное число 8 возвести в квадрат.", "n": 22}, {"uid": "7BB342", "fileNo": 2, "code": "7BB342", "category": "Набор 2", "text": "У исполнителя Конструктор две команды, которым присвоены номера:\nприписать 2\nразделить на 2\nПервая из них приписывает к числу на экране справа цифру 2, вторая делит его на 2.\nСоставьте алгоритм получения из числа 14 числа 9, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "21222", "n": 23}, {"uid": "437F8B", "fileNo": 3, "code": "437F8B", "category": "Набор 2", "text": "У исполнителя Конструктор две команды, которым присвоены номера:\nприписать 2\nразделить на 2\nПервая из них приписывает к числу на экране справа цифру 2, вторая делит его на 2. Составьте алгоритм получения из числа 3 числа 2, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "12222", "n": 24}, {"uid": "6425D0", "fileNo": 4, "code": "6425D0", "category": "Набор 2", "text": "У исполнителя Конструктор две команды, которым присвоены номера:\nприписать 2\nразделить на 2\nПервая из них приписывает к числу на экране справа цифру 2, вторая делит его на 2. Составьте алгоритм получения из числа 32 числа 21, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "22212", "n": 25}, {"uid": "2E6B90", "fileNo": 1, "code": "2E6B90", "category": "Набор 3", "text": "У исполнителя Калькулятор две команды, которым присвоены номера:\nумножь на 2\nвычти 4\nПервая из них удваивает число на экране, вторая уменьшает его на 4.\nСоставьте алгоритм получения из числа 2 числа 24, содержащий не более 5 команд. В ответе запишите только номера команд. Если таких алгоритмов более одного, то запишите любой из них.", "answer": "11121", "n": 26}, {"uid": "CB3DC6", "fileNo": 2, "code": "CB3DC6", "category": "Набор 3", "text": "У исполнителя Калькулятор две команды, которым присвоены номера:\nумножь на 2\nвычти 5\nПервая из них удваивает число на экране, вторая уменьшает его на 5.\nСоставьте алгоритм получения из числа 3 числа 9, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "11212", "n": 27}, {"uid": "31A692", "fileNo": 3, "code": "31A692", "category": "Набор 3", "text": "У исполнителя Калькулятор две команды, которым присвоены номера:\nумножь на 3\nвычти 4\nПервая из них утраивает число на экране, вторая уменьшает его на 4.\nСоставьте алгоритм получения из числа 5 числа 17, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "12212", "n": 28}, {"uid": "4C220A", "fileNo": 4, "code": "4C220A", "category": "Набор 3", "text": "У исполнителя Калькулятор две команды, которым присвоены номера:\nумножь на 3\nвычти 5\nПервая из них утраивает число на экране, вторая уменьшает его на 5.\nСоставьте алгоритм получения из числа 1 числа 7, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "11212", "n": 29}, {"uid": "1E33D8", "fileNo": 1, "code": "1E33D8", "category": "Набор 4", "text": "У исполнителя Делитель две команды, которым присвоены номера:\nраздели на 2\nприбавь 1\nПервая из них уменьшает число на экране в 2 раза, вторая увеличивает его на 1. Исполнитель работает только с натуральными числами.\nСоставьте алгоритм получения из числа 54 числа 16, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "12122", "n": 30}, {"uid": "15A48B", "fileNo": 2, "code": "15A48B", "category": "Набор 4", "text": "У исполнителя Делитель две команды, которым присвоены номера:\nраздели на 2\nвычти 1\nПервая из них уменьшает число на экране в 2 раза, вторая уменьшает его на 1. Исполнитель работает только с натуральными числами.\nСоставьте алгоритм получения из числа 27 числа 5, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "21212", "n": 31}, {"uid": "FA64EC", "fileNo": 3, "code": "FA64EC", "category": "Набор 4", "text": "У исполнителя Делитель две команды, которым присвоены номера:\nраздели на 2\nвычти 1\nПервая из них уменьшает число на экране в 2 раза, вторая уменьшает его на 1. Исполнитель работает только с натуральными числами.\nСоставьте алгоритм получения из числа 65 числа 4, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "21111", "n": 32}, {"uid": "FA7764", "fileNo": 4, "code": "FA7764", "category": "Набор 4", "text": "У исполнителя Делитель две команды, которым присвоены номера:\nраздели на 2\nвычти 3\nПервая из них уменьшает число на экране в 2 раза, вторая уменьшает его на 3. Исполнитель работает только с натуральными числами.\nСоставьте алгоритм получения из числа 34 числа 1, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "12122", "n": 33}, {"uid": "871E64", "fileNo": 5, "code": "871E64", "category": "Набор 4", "text": "У исполнителя Делитель две команды, которым присвоены номера:\nраздели на 2\nвычти 3\nПервая из них уменьшает число на экране в 2 раза, вторая уменьшает его на 3. Исполнитель работает только с натуральными числами.\nСоставьте алгоритм получения из числа 41 числа 4, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "21211", "n": 34}, {"uid": "117486", "fileNo": 6, "code": "117486", "category": "Набор 4", "text": "У исполнителя Делитель две команды, которым присвоены номера:\nраздели на 2\nвычти 3\nПервая из них уменьшает число на экране в 2 раза, вторая уменьшает его на 3. Исполнитель работает только с натуральными числами.\nСоставьте алгоритм получения из числа 76 числа 5, содержащий не более 5 команд. В ответе запишите только номера команд.", "answer": "11212", "n": 35}, {"uid": "D11441", "fileNo": 7, "code": "D11441", "category": "Набор 4", "text": "У исполнителя Делитель две команды, которым присвоены номера:\nраздели на 2\nприбавь 1\nПервая из них уменьшает число на экране в 2 раза, вторая увеличивает его на 1. Исполнитель работает только с натуральными числами.\nСоставьте алгоритм получения из числа 23 числа 4, содержащий не более 5 команд.", "answer": "21112", "n": 36}, {"uid": "074D05", "fileNo": 1, "code": "074D05", "category": "Набор 5", "text": "У исполнителя Вычислитель две команды, которым присвоены номера:\nприписать 4\nразделить на 2\nПервая из них приписывает к числу справа 4, вторая уменьшает его в 2 раза.\nСоставьте алгоритм получения из числа 8 числа 7, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "22212", "n": 37}, {"uid": "C80CF5", "fileNo": 2, "code": "C80CF5", "category": "Набор 5", "text": "У исполнителя Вычислитель две команды, которым присвоены номера:\nприписать 1\nразделить на 3\nПервая из них приписывает к числу справа 1, вторая уменьшает его в 3 раза.\nСоставьте алгоритм получения из 5 числа 19, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "12122", "n": 38}, {"uid": "D805AE", "fileNo": 3, "code": "D805AE", "category": "Набор 5", "text": "У исполнителя Вычислитель две команды, которым присвоены номера:\nвычесть 3\nприписать 1\nПервая из них уменьшает число на 3, а вторая приписывает к нему справа 1.\nСоставьте алгоритм получения из числа 8 числа 15, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "11211", "n": 39}, {"uid": "EAFBF9", "fileNo": 4, "code": "EAFBF9", "category": "Набор 5", "text": "У исполнителя Вычислитель две команды, которым присвоены номера:\nвычесть 4\nприписать 2\nПервая из них уменьшает число на 4, а вторая приписывает к нему справа 2.\nСоставьте алгоритм получения из числа 9 числа 4, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "11211", "n": 40}, {"uid": "28A8A3", "fileNo": 5, "code": "28A8A3", "category": "Набор 5", "text": "У исполнителя Вычислитель две команды, которым присвоены номера:\nприбавь 1\nвозведи в квадрат\nПервая из них увеличивает число на экране на 1, вторая возводит его во вторую степень. Составьте алгоритм получения из числа 2 числа 19, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "22111", "n": 41}, {"uid": "20BA6B", "fileNo": 6, "code": "20BA6B", "category": "Набор 5", "text": "У исполнителя Вычислитель две команды, которым присвоены номера:\nумножь на 3\nприбавь 1\nПервая из них увеличивает число на экране в 3 раза, вторая увеличивает его на 1. Составьте алгоритм получения из числа 2 числа 25, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "12212", "n": 42}, {"uid": "9961D6", "fileNo": 7, "code": "9961D6", "category": "Набор 5", "text": "У исполнителя Вычислитель две команды, которым присвоены номера:\nумножь на 3\nприбавь 1\nПервая из них увеличивает число на экране в 3 раза, вторая увеличивает его на 1. Составьте алгоритм получения из числа 5 числа 60, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "21221", "n": 43}, {"uid": "F0F659", "fileNo": 8, "code": "F0F659", "category": "Набор 5", "text": "У исполнителя Вычислитель две команды, которым присвоены номера:\nумножь на 5\nприбавь 1\nПервая из них увеличивает число на экране в 5 раз, вторая увеличивает его на 1. Составьте алгоритм получения из числа 1 числа 56, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.\nПервая из них увеличивает число на экране на 2, вторая умножает его на 2.\nСоставьте алгоритм получения из числа 3 числа 44, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.\nЕсли таких алгоритмов более одного, то запишите любой из них.\nСоставьте алгоритм получения из числа 2 числа 120, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "21212", "n": 44}, {"uid": "263BAC", "fileNo": 1, "code": "263BAC", "category": "Набор 6", "text": "У исполнителя Программист две команды, которым присвоены номера:\nвычти 1\nумножь на 4\nСоставьте алгоритм получения из числа 1 числа 44, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "21212", "n": 45}, {"uid": "4336D6", "fileNo": 2, "code": "4336D6", "category": "Набор 6", "text": "У исполнителя Программист две команды, которым присвоены номера:\nвычти 3\nумножь на 4\nСоставьте алгоритм получения из числа 1 числа 49, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "22121", "n": 46}, {"uid": "BDA5E7", "fileNo": 1, "code": "BDA5E7", "category": "Набор 7", "text": "У исполнителя Преобразователь две команды, которым присвоены номера:\nвычти 1\nраздели на 4\nПервая из них уменьшает число на экране на 1, вторая уменьшает его в четыре раза. Составьте алгоритм получения из числа 40 числа 1, содержащий не более пяти команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "21121", "n": 47}, {"uid": "57956C", "fileNo": 2, "code": "57956C", "category": "Набор 7", "text": "У исполнителя Преобразователь две команды, которым присвоены номера:\nвычти 1\nраздели на 4\nСоставьте алгоритм получения из числа 53 числа 2, содержащий не более пяти команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "12121", "n": 48}, {"uid": "29DF88", "fileNo": 1, "code": "29DF88", "category": "Набор 8", "text": "У исполнителя Раздвоитель две команды, которым присвоены номера:\nвычесть 1\nразделить на 2\nСоставьте алгоритм получения из числа 17 числа 5, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "12111", "n": 49}, {"uid": "06E3F2", "fileNo": 2, "code": "06E3F2", "category": "Набор 8", "text": "У исполнителя Раздвоитель две команды, которым присвоены номера:\nвычесть 1\nразделить на 2\nСоставьте алгоритм получения из числа 21 числа 3, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "12211", "n": 50}, {"uid": "181895", "fileNo": 2, "code": "181895", "category": "Набор 9", "text": "У исполнителя Утроитель две команды, которым присвоены номера:\nвычти 1\nумножь на 3\nПервая из них уменьшает число на экране на 1, вторая утраивает его.\nСоставьте алгоритм получения из числа 6 числа 10, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "11211", "n": 51}, {"uid": "BCC106", "fileNo": 3, "code": "BCC106", "category": "Набор 9", "text": "У исполнителя Утроитель две команды, которым присвоены номера:\nвычти 1\nумножь на 3\nПервая из них уменьшает число на экране на 1, вторая утраивает его.\nСоставьте алгоритм получения из числа 7 числа 13, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "11211", "n": 52}, {"uid": "B83519", "fileNo": 4, "code": "B83519", "category": "Набор 9", "text": "У исполнителя Утроитель две команды, которым присвоены номера:\nвычти 1\nумножь на 3\nПервая из них уменьшает число на экране на 1, вторая утраивает его.\nСоставьте алгоритм получения из числа 9 числа 62, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "11221", "n": 53}, {"uid": "B04AF3", "fileNo": 5, "code": "B04AF3", "category": "Набор 9", "text": "У исполнителя Утроитель две команды, которым присвоены номера:\nвычти 2\nумножь на 3\nПервая из них уменьшает число на экране на 2, вторая утраивает его.\nСоставьте алгоритм получения из числа 11 числа 13, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "11121", "n": 54}, {"uid": "786012", "fileNo": 6, "code": "786012", "category": "Набор 9", "text": "У исполнителя Утроитель две команды, которым присвоены номера:\nвычти 1\nумножь на 3\nПервая из них уменьшает число на экране на 1, вторая утраивает его.\nСоставьте алгоритм получения из числа 4 числа 25, содержащий не более 5 команд. В ответе запишите только номера команд.\nЕсли таких алгоритмов более одного, то запишите любой из них.", "answer": "12211", "n": 55}];
const LS_KEY_TEACH = "oge5_teacher_state_v3";
const DEFAULT_PIN = "1234";

const state = {
  checked:false,
  answers:new Map(),        // ответы ученика (не сохраняются)
  results:new Map(),        // результаты проверки
  teacher: loadTeacherState()
};

function buildDefaultAnswers(){
  const a={};
  for(const t of TASKS) a[t.uid]=t.answer||"";
  return a;
}
function loadTeacherState() {
  try {
    const raw = localStorage.getItem(LS_KEY_TEACH);
    if(!raw) return { pin: DEFAULT_PIN, answers: buildDefaultAnswers() };
    const obj = JSON.parse(raw);
    return { pin: (obj.pin || DEFAULT_PIN).toString(), answers: obj.answers || buildDefaultAnswers() };
  } catch(e) {
    return { pin: DEFAULT_PIN, answers: buildDefaultAnswers() };
  }
}
function saveTeacherState(){ localStorage.setItem(LS_KEY_TEACH, JSON.stringify(state.teacher)); }
function uniq(arr){return [...new Set(arr)]}
function initCats(){
  const sel=document.getElementById("catSelect");
  const cats=uniq(TASKS.map(t=>t.category||"Задания"));
  for(const c of cats){
    const opt=document.createElement("option");
    opt.value=c; opt.textContent=c;
    sel.appendChild(opt);
  }
  sel.addEventListener("change", renderTasks);
}
function normalizeAnswer(v){ return (v||"").toString().trim().replace(/\s+/g,""); }

function renderTasks(){
  const root=document.getElementById("tasksRoot");
  root.innerHTML="";
  const sel=document.getElementById("catSelect").value;
  const list=(sel==="__all")?TASKS:TASKS.filter(t=>(t.category||"Задания")===sel);

  let lastCat=null;
  for(const t of list){
    if(sel==="__all" && t.category!==lastCat){
      const st=document.createElement("div");
      st.className="sectionTitle";
      st.textContent=t.category;
      root.appendChild(st);
      lastCat=t.category;
    }

    const card=document.createElement("div"); card.className="taskCard";

    const head=document.createElement("div"); head.className="taskHead";
    const num=document.createElement("div"); num.className="taskNum"; num.textContent="Задание "+t.n;
    const tag=document.createElement("div"); tag.className="tag"; tag.textContent=t.code;
    head.appendChild(num); head.appendChild(tag);

    const prompt=document.createElement("div"); prompt.className="prompt"; prompt.textContent=t.text;

    const row=document.createElement("div"); row.className="answerRow";
    const input=document.createElement("input");
    input.type="text"; input.placeholder="Введите ответ…";
    input.value=state.answers.get(t.uid)||"";
    input.disabled=state.checked;
    input.addEventListener("input", ()=>state.answers.set(t.uid, input.value));

    const res=document.createElement("div"); res.className="result";
    if(state.checked){
      const ok=state.results.get(t.uid)===true;
      res.classList.add(ok?"ok":"bad");
      res.textContent= ok ? "✅ Верно" : "❌ Неверно";
    }

    row.appendChild(input); row.appendChild(res);
    card.appendChild(head); card.appendChild(prompt); card.appendChild(row);
    root.appendChild(card);
  }
  updateScorePanel();
}

function doCheck(){
  if(state.checked) return;
  state.checked=true;
  state.results.clear();
  for(const t of TASKS){
    const stu=normalizeAnswer(state.answers.get(t.uid)||"");
    const corr=normalizeAnswer(state.teacher.answers[t.uid]||"");
    if(!stu) continue;
    state.results.set(t.uid, stu===corr);
  }
  renderTasks();
  updateScorePanel();
}

function computeScore(){
  let done=0, pts=0;
  for(const t of TASKS){
    const stu=normalizeAnswer(state.answers.get(t.uid)||"");
    if(!stu) continue;
    done++;
    if(state.results.get(t.uid)===true) pts++;
  }
  const pct = done===0?0:Math.round((pts/done)*100);
  const grade = done===0 ? "—" : (pct>=80?5:(pct>=60?4:(pct>=40?3:2)));
  return {done, pts, pct, grade};
}
function updateScorePanel(){
  const s=computeScore();
  document.getElementById("mDone").textContent=s.done;
  document.getElementById("mPts").textContent=s.pts;
  document.getElementById("mGrade").textContent=s.grade;
}
function showScoreAlert(){
  const s=computeScore();
  alert("Выполнено: "+s.done+"\nБаллов: "+s.pts+"\nПроцент верных: "+s.pct+"%\nОценка: "+s.grade);
}
function resetAll(){
  state.checked=false;
  state.answers.clear();
  state.results.clear();
  renderTasks();
}

function openTeacher(){
  const pin=prompt("Введите PIN-код учителя:");
  if(pin===null) return;
  if(pin.toString()!==state.teacher.pin.toString()){ alert("Неверный PIN-код"); return; }

  const bg=document.getElementById("modalBg");
  const body=document.getElementById("modalBody");
  body.innerHTML="";

  const row=document.createElement("div");
  row.className="smallRow";
  row.innerHTML =
    '<div style="color:var(--muted);font-weight:800">PIN:</div>' +
    '<input id="pinNew" type="text" value="'+state.teacher.pin+'"/>' +
    '<button class="primary" id="btnSavePin">Сохранить PIN</button>' +
    '<div style="color:var(--muted);font-size:12px">PIN хранится в браузере учителя.</div>';
  body.appendChild(row);

  const grid=document.createElement("div");
  grid.className="teacherGrid";
  grid.innerHTML =
    '<div class="h">Код</div>' +
    '<div class="h">Условие (№)</div>' +
    '<div class="h">Правильный ответ</div>';

  for(const t of TASKS){
    const c1=document.createElement("div"); c1.className="teacherCell"; c1.innerHTML="<code>"+t.code+"</code>";
    const c2=document.createElement("div"); c2.className="teacherCell"; c2.innerHTML="<b>Задание "+t.n+"</b>";
    const c3=document.createElement("div"); c3.className="teacherCell";
    const inp=document.createElement("input");
    inp.type="text"; inp.value=state.teacher.answers[t.uid]||"";
    inp.addEventListener("input", ()=>{ state.teacher.answers[t.uid]=inp.value; });
    c3.appendChild(inp);
    grid.appendChild(c1); grid.appendChild(c2); grid.appendChild(c3);
  }
  body.appendChild(grid);

  row.querySelector("#btnSavePin").addEventListener("click", ()=>{
    const v=row.querySelector("#pinNew").value.trim();
    if(!v){ alert("PIN не может быть пустым"); return; }
    state.teacher.pin=v;
    saveTeacherState();
    alert("PIN сохранён");
  });

  bg.style.display="flex";
}

function closeModal(){ saveTeacherState(); document.getElementById("modalBg").style.display="none"; }

document.getElementById("btnTeacher").addEventListener("click", openTeacher);
document.getElementById("btnCloseModal").addEventListener("click", closeModal);
document.getElementById("modalBg").addEventListener("click", (e)=>{ if(e.target.id==="modalBg") closeModal(); });

document.getElementById("btnCheck").addEventListener("click", doCheck);
document.getElementById("btnScore").addEventListener("click", showScoreAlert);
document.getElementById("btnReset").addEventListener("click", resetAll);
document.getElementById("btnPrint").addEventListener("click", ()=>window.print());

initCats();
renderTasks();
</script>
</body>
</html>
