<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<meta name="theme-color" content="#2f6df6" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />
<meta name="format-detection" content="telephone=no" />
<title>–¢—Ä–µ–Ω–∞–∂—ë—Ä –û–ì–≠ ‚Ä¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ ‚Ä¢ –ó–∞–¥–∞–Ω–∏–µ 10</title>
<style>
  :root{
    --bg1:#f6fbff;
    --bg2:#eaf4ff;
    --card:#ffffffcc;
    --ink:#0b2440;
    --muted:#4f6b86;
    --blue:#2f6df6;
    --shadow: 0 18px 45px rgba(12,55,120,.12);
    --shadow2: 0 10px 20px rgba(12,55,120,.10);
    --radius: 22px;
    --tableScale: 1;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
    color:var(--ink);
    background:
      radial-gradient(1200px 700px at 10% 10%, #ffffff 0%, var(--bg2) 40%, rgba(234,244,255,0) 70%),
      radial-gradient(900px 600px at 90% 20%, #ffffff 0%, var(--bg2) 45%, rgba(234,244,255,0) 75%),
      linear-gradient(180deg, var(--bg1) 0%, #f2f8ff 60%, #eef6ff 100%);
  }
  .wrap{max-width:1200px;margin:28px auto;padding:
  calc(0px + env(safe-area-inset-top))
  calc(18px + env(safe-area-inset-right))
  calc(26px + env(safe-area-inset-bottom))
  calc(18px + env(safe-area-inset-left));}
  .top{
    display:flex;align-items:flex-end;justify-content:space-between;gap:16px;flex-wrap:wrap;
    margin-bottom:16px;
  }
  .title{font-weight:850;letter-spacing:.2px;font-size:clamp(22px,3.2vw,34px)}
  .subtitle{color:var(--muted);font-weight:650;margin-top:6px}
  .pillbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-end}
  .pill{
    background:rgba(255,255,255,.75);
    border:1px solid rgba(188,215,255,.75);
    box-shadow:0 8px 18px rgba(12,55,120,.08);
    padding:10px 12px;border-radius:999px;
    display:flex;gap:10px;align-items:center;
    font-weight:750;color:var(--muted);
  }
  .pill strong{color:var(--ink)}
  .btn{
    border:0; cursor:pointer;
    background:rgba(255,255,255,.85);
    border:1px solid rgba(188,215,255,.85);
    box-shadow:0 10px 20px rgba(12,55,120,.10);
    padding:12px 14px;border-radius:14px;
    font-weight:800;color:var(--ink);
    display:inline-flex;align-items:center;gap:10px;
    transition:transform .08s ease, box-shadow .2s ease, background .2s ease;
    user-select:none;
  }
  .btn:hover{transform:translateY(-1px); box-shadow:0 14px 26px rgba(12,55,120,.14)}
  .btn:active{transform:translateY(0px) scale(.99)}
  .btn.primary{background:linear-gradient(180deg, #4b84ff, var(--blue)); color:white; border-color:rgba(74,132,255,.55)}
  .btn.danger{background:linear-gradient(180deg, #ff7e7e, #ff5e5e); color:white; border-color:rgba(255,115,115,.6)}
  .btn.small{padding:10px 12px;border-radius:12px;font-weight:800}
  .btn.ghost{background:rgba(255,255,255,.55)}
  .grid{
    display:grid;
    grid-template-columns: 1.15fr .85fr;
    gap:16px;
    align-items:start;
  }
  @media (max-width: 980px){
    .grid{grid-template-columns:1fr}
  }
  .card{
    background:var(--card);
    border:1px solid rgba(188,215,255,.7);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    overflow:hidden;
    backdrop-filter: blur(10px);
  }
  .cardHeader{
    padding:16px 18px;
    background:linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.55));
    border-bottom:1px solid rgba(188,215,255,.55);
    display:flex; align-items:center; justify-content:space-between; gap:12px;
  }
  .cardHeader h2{margin:0;font-size:22px;font-weight:900}
  .badge{
    padding:8px 12px;border-radius:999px;
    background:rgba(255,255,255,.75);
    border:1px solid rgba(188,215,255,.75);
    font-weight:850;color:var(--muted);
    white-space:nowrap;
  }
  .content{padding:18px}
  .prompt{font-size:18px;line-height:1.45;font-weight:700;color:var(--ink);margin:0 0 14px}
  .tableBox{
    background:linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.72));
    border:1px solid rgba(188,215,255,.75);
    border-radius:18px;
    box-shadow:var(--shadow2);
    padding:12px;
    overflow:auto;
    min-height: 120px; height: auto;
  }
  .tableInner{
    transform: scale(var(--tableScale));
    transform-origin: top center;
    min-width: 520px;
    margin: 0 auto;
    display:block;
  }
  table{
    width:100%;
    border-collapse:separate;
    border-spacing:0;
    overflow:hidden;
    border-radius:16px;
    border:1px solid rgba(188,215,255,.85);
    background:white;
  }
  th,td{
    padding:14px 14px;
    border-bottom:1px solid rgba(188,215,255,.65);
    vertical-align:top;
  }
  tr:last-child td{border-bottom:0}
  th{
    width:40%;
    background:linear-gradient(180deg, #f2f8ff, #eaf4ff);
    font-weight:900;
    color:#103154;
  }
  td{
    width:60%;
    font-weight:800;
    color:#0b2440;
    word-break:break-word;
    overflow-wrap:anywhere;
  }
  .answerRow{display:flex;gap:12px;align-items:center;margin-top:14px;flex-wrap:wrap}
  .input{
    flex:1 1 360px;
    background:white;
    border:2px solid rgba(188,215,255,.9);
    border-radius:16px;
    padding:14px 14px;
    font-size:18px;
    font-weight:800;
    outline:none;
    box-shadow:0 10px 18px rgba(12,55,120,.08);
  }
  .input:focus{border-color:#7bb0ff; box-shadow:0 16px 26px rgba(12,55,120,.12)}
  .msg{
    margin-top:12px;
    padding:12px 14px;
    border-radius:16px;
    border:1px solid rgba(188,215,255,.8);
    background:rgba(255,255,255,.7);
    font-weight:800;
    color:var(--muted);
    white-space:pre-line;
  }
  .msg.good{border-color:rgba(85,200,140,.55); background:rgba(233,255,243,.8); color:#0e5a33}
  .msg.bad{border-color:rgba(255,120,120,.55); background:rgba(255,238,238,.85); color:#8b1b1b}
  .footerBtns{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px;align-items:center;justify-content:space-between}
  .leftBtns,.rightBtns{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .progressCard .content{padding:16px 18px}
  .kpis{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 12px}
  .kpi{
    background:rgba(255,255,255,.75);
    border:1px solid rgba(188,215,255,.75);
    border-radius:999px;
    padding:10px 12px;
    font-weight:900;color:var(--muted);
  }
  .bar{height:10px;border-radius:999px;background:rgba(188,215,255,.45); overflow:hidden; border:1px solid rgba(188,215,255,.6)}
  .bar > div{height:100%; width:0%; background:linear-gradient(90deg, #67a5ff, var(--blue)); border-radius:999px}
  .note{margin-top:12px;color:var(--muted);font-weight:750;line-height:1.35}
  .tiny{font-size:13px;color:var(--muted);font-weight:750;margin-top:10px;text-align:center}

  .overlay{
    position:fixed; inset:0;
    background:rgba(10,30,60,.35);
    display:none; align-items:center; justify-content:center;
    padding:18px;
    z-index:50;
  }
  .modal{
    width:min(760px, 100%);
    background:white;
    border-radius:24px;
    border:1px solid rgba(188,215,255,.9);
    box-shadow:0 30px 80px rgba(5,25,55,.35);
    overflow:hidden;
  }
  .modalHead{
    padding:16px 18px;
    background:linear-gradient(180deg, #f2f8ff, #eaf4ff);
    display:flex;justify-content:space-between;align-items:center;gap:10px;
    border-bottom:1px solid rgba(188,215,255,.8);
  }
  .modalHead h3{margin:0;font-size:18px;font-weight:950}
  .modalBody{padding:16px 18px}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:10px 0}
  .row label{font-weight:900;color:var(--muted)}
  .row .input{flex:1 1 260px}
  .teacherList{max-height:360px; overflow:auto; border:1px solid rgba(188,215,255,.75); border-radius:16px; padding:10px; background:#f8fbff}
  .tItem{background:white; border:1px solid rgba(188,215,255,.7); border-radius:16px; padding:12px; margin:10px 0; box-shadow:0 10px 18px rgba(12,55,120,.08)}
  .tItem .tTop{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;align-items:center}
  .tItem .tTop strong{font-weight:950}
  .tItem .tAns{margin-top:10px; display:flex; gap:10px; flex-wrap:wrap; align-items:center}
  .tItem .tAns input{padding:10px 12px;border-radius:12px;border:2px solid rgba(188,215,255,.9);font-weight:900;min-width:220px}
  .hintSmall{margin-top:8px;color:var(--muted);font-weight:750;line-height:1.3}

/* --- Student-only build (GitHub Pages): teacher mode hidden, autocheck kept --- */
#teacherBtn, #teacherOverlay { display: none !important; }

</style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div>
        <div class="title">–¢—Ä–µ–Ω–∞–∂—ë—Ä –û–ì–≠ ‚Äî –ó–∞–¥–∞–Ω–∏–µ 10 ¬´–°–∏—Å—Ç–µ–º—ã —Å—á–∏—Å–ª–µ–Ω–∏—è¬ª</div>
        <div class="subtitle">30 –∑–∞–¥–∞–Ω–∏–π ‚Ä¢ –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Ä¢ —É–¥–æ–±–Ω–æ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ—Å–∫–∏</div>
      </div>
      <div class="pillbar">
        <div class="pill">–ó–∞–¥–∞–Ω–∏–µ <strong id="taskCounter">1/30</strong></div>
        <div class="pill">–ë–∞–ª–ª—ã <strong id="score">0</strong></div>
        <button class="btn small ghost" id="zoomOutBtn" title="–£–º–µ–Ω—å—à–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É">üîé‚àí –¢–∞–±–ª–∏—Ü–∞</button>
        <button class="btn small ghost" id="zoomInBtn" title="–£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É">üîé+ –¢–∞–±–ª–∏—Ü–∞</button>
        <button class="btn small ghost" id="fsBtn" title="–ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω">‚õ∂ –ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω</button>
        <button class="btn small ghost" id="helpBtn" title="–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è">‚ùì –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</button>
        <button class="btn small ghost" id="teacherBtn" title="–†–µ–∂–∏–º —É—á–∏—Ç–µ–ª—è">üîí –£—á–∏—Ç–µ–ª—å</button>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="cardHeader">
          <h2 id="taskTitle">–ó–∞–¥–∞–Ω–∏–µ</h2>
          <span class="badge">–∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞</span>
        </div>
        <div class="content">
          <p class="prompt" id="taskPrompt"></p>

          <div class="tableBox">
            <div class="tableInner">
              <table><tbody id="taskTableBody"></tbody></table>
            </div>
          </div>

          <div class="answerRow">
            <input id="answerInput" class="input" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç‚Ä¶" autocomplete="off" inputmode="text" />
            <button class="btn primary" id="checkBtn">‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
          </div>

          <div id="msg" class="msg">–°–æ–≤–µ—Ç: –≤–≤–æ–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç. –ü—Ä–æ–±–µ–ª—ã –∏ –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è.</div>

          <div class="footerBtns">
            <div class="leftBtns">
              <button class="btn" id="hintBtn">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</button>
              <button class="btn" id="prevBtn">‚Üê –ù–∞–∑–∞–¥</button>
              <button class="btn" id="nextBtn">–î–∞–ª—å—à–µ ‚Üí</button>
            </div>
            <div class="rightBtns">
              <button class="btn danger" id="resetBtn">‚Ü∫ –°–±—Ä–æ—Å</button>
            </div>
          </div>
          <div class="tiny">–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —Ñ–∞–π–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –î–ª—è –¥–æ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ¬´–ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω¬ª. –¢–∞–±–ª–∏—Ü—É –º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∞–º–∏ ¬´–¢–∞–±–ª–∏—Ü–∞¬ª.</div>
        </div>
      </div>

      <div class="card progressCard">
        <div class="cardHeader">
          <h2>–ü—Ä–æ–≥—Ä–µ—Å—Å</h2>
          <span class="badge" id="percentBadge">0%</span>
        </div>
        <div class="content">
          <div class="kpis">
            <div class="kpi">–†–µ—à–µ–Ω–æ: <span id="kSolved">0</span></div>
            <div class="kpi">–í–µ—Ä–Ω–æ: <span id="kCorrect">0</span></div>
            <div class="kpi">–û—à–∏–±–æ–∫: <span id="kWrong">0</span></div>
            <div class="kpi">–ü–æ–¥—Å–∫–∞–∑–æ–∫: <span id="kHints">0</span></div>
          </div>
          <div class="bar"><div id="barFill"></div></div>
          <div class="note" id="note">–ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å. –ú–æ–∂–Ω–æ —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –ø–æ –ø–æ—Ä—è–¥–∫—É –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –Ω–∞–∑–∞–¥.</div>
          <div class="row" style="justify-content:flex-start;margin-top:12px">
            <button class="btn small ghost" id="historyBtn">üïò –ò—Å—Ç–æ—Ä–∏—è –ø–æ–ø—ã—Ç–æ–∫</button>
          </div>
          <div id="history" class="msg" style="display:none"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="overlay" id="helpOverlay" role="dialog" aria-modal="true">
    <div class="modal">
      <div class="modalHead">
        <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h3>
        <button class="btn small" id="helpClose">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
      <div class="modalBody">
        <div class="note" style="margin-top:0">
          –≠—Ç–æ—Ç —Ç—Ä–µ–Ω–∞–∂—ë—Ä –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ 10 –û–ì–≠ –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ –ø–æ —Ç–µ–º–µ ¬´–°–∏—Å—Ç–µ–º—ã —Å—á–∏—Å–ª–µ–Ω–∏—è¬ª. –ù–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ–∫–∞–∑–∞–Ω–æ —É—Å–ª–æ–≤–∏–µ –∏ —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏. –í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ –ø–æ–ª–µ –Ω–∏–∂–µ –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ü—Ä–æ–≤–µ—Ä–∏—Ç—å¬ª ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—è–≤–∏—Ç—Å—è —Å—Ä–∞–∑—É. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –º–µ–∂–¥—É –∑–∞–¥–∞–Ω–∏—è–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ ¬´–ù–∞–∑–∞–¥¬ª –∏ ¬´–î–∞–ª—å—à–µ¬ª. –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –∫–∞–∂–µ—Ç—Å—è –º–µ–ª–∫–æ–π, —É–≤–µ–ª–∏—á—å—Ç–µ –µ—ë –∫–Ω–æ–ø–∫–∞–º–∏ ¬´–¢–∞–±–ª–∏—Ü–∞¬ª. –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ—Å–∫–µ –≤–∫–ª—é—á–∏—Ç–µ ¬´–ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω¬ª. –í —Ç—Ä–µ–Ω–∞–∂—ë—Ä–µ –Ω–µ—Ç –≥–æ—Ç–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤: –≤—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —É—á–µ–Ω–∏–∫–æ–º —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.
        </div>
      </div>
    </div>
  </div>

  <div class="overlay" id="teacherOverlay" role="dialog" aria-modal="true">
    <div class="modal">
      <div class="modalHead">
        <h3>–†–µ–∂–∏–º —É—á–∏—Ç–µ–ª—è</h3>
        <button class="btn small" id="teacherClose">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
      <div class="modalBody">
        <div id="teacherLocked">
          <div class="note" style="margin-top:0">–í–≤–µ–¥–∏—Ç–µ PIN-–∫–æ–¥, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –æ—Ç–≤–µ—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. PIN-–∫–æ–¥ —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.</div>
          <div class="row">
            <label for="pinInput">PIN</label>
            <input id="pinInput" class="input" type="password" placeholder="–í–≤–µ–¥–∏—Ç–µ PIN‚Ä¶" />
            <button class="btn primary" id="pinEnterBtn">–í–æ–π—Ç–∏</button>
          </div>
          <div id="pinMsg" class="msg" style="display:none"></div>
        </div>

        <div id="teacherUnlocked" style="display:none">
          <div class="note" style="margin-top:0">–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–≤–µ—Ç—ã, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∏ –∏–∑–º–µ–Ω–∏—Ç—å PIN-–∫–æ–¥. –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ.</div>

          <div class="row">
            <label for="newPin">–ù–æ–≤—ã–π PIN</label>
            <input id="newPin" class="input" type="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π PIN‚Ä¶" />
            <button class="btn" id="changePinBtn">üîÅ –ò–∑–º–µ–Ω–∏—Ç—å PIN</button>
          </div>

          <div class="row" style="justify-content:space-between">
            <div class="pill" style="gap:8px">–í—Å–µ–≥–æ –∑–∞–¥–∞–Ω–∏–π: <strong id="tCount">30</strong></div>
            <button class="btn danger" id="restoreBtn">‚Ü∫ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –∏–∑ —Ñ–∞–π–ª–∞</button>
          </div>

          <div class="teacherList" id="teacherList"></div>

          <div class="row" style="justify-content:flex-end">
            <button class="btn primary" id="saveEditsBtn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
          </div>
          <div class="msg" id="saveMsg" style="display:none"></div>
        </div>
      </div>
    </div>
  </div>

<script>
const DEFAULT_TASKS = [{"title": "–ó–∞–¥–∞–Ω–∏–µ 1", "prompt": "–î–∞–Ω—ã —á–µ—Ç—ã—Ä–µ —á–∏—Å–ª–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Å—á–∏—Å–ª–µ–Ω–∏—è. –°–∫–æ–ª—å–∫–æ —Å—Ä–µ–¥–∏ –Ω–∏—Ö —á–∏—Å–µ–ª, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±–æ–ª—å—à–µ, —á–µ–º C9‚ÇÅ‚ÇÜ? –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "306‚Çà, 305‚Çà, 11001001‚ÇÇ, 11001010‚ÇÇ"]], "answer": "3", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 2", "prompt": "–î–∞–Ω—ã —á–µ—Ç—ã—Ä–µ —á–∏—Å–ª–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Å—á–∏—Å–ª–µ–Ω–∏—è. –°–∫–æ–ª—å–∫–æ —Å—Ä–µ–¥–∏ –Ω–∏—Ö —á–∏—Å–µ–ª, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–µ–Ω—å—à–µ, —á–µ–º 6F‚ÇÅ‚ÇÜ? –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "155‚Çà, 154‚Çà, 1101111‚ÇÇ, 1110000‚ÇÇ"]], "answer": "2", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 3", "prompt": "–°—Ä–µ–¥–∏ —Ç—Ä—ë—Ö —á–∏—Å–µ–ª, –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Å—á–∏—Å–ª–µ–Ω–∏—è, –Ω–∞–π–¥–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –µ–≥–æ –≤ –æ—Ç–≤–µ—Ç –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è.", "tableRows": [["–î–∞–Ω–æ", "28‚ÇÅ‚ÇÜ, 47‚Çà, 101010‚ÇÇ"]], "answer": "39", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 4", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 4701‚Çà –∏–∑ –≤–æ—Å—å–º–µ—Ä–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "4701‚Çà"]], "answer": "2497", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 5", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 1455‚ÇÅ‚ÇÄ –∏–∑ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ –¥–≤–æ–∏—á–Ω—É—é. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ –¥–≤–æ–∏—á–Ω–æ–µ —á–∏—Å–ª–æ –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤.", "tableRows": [["–î–∞–Ω–æ", "1455‚ÇÅ‚ÇÄ"]], "answer": "10110101111", "answerType": "text", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 6", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 1111000101101‚ÇÇ –∏–∑ –¥–≤–æ–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—É—é. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —á–∏—Å–ª–æ (0‚Äì9, A‚ÄìF).", "tableRows": [["–î–∞–Ω–æ", "1111000101101‚ÇÇ"]], "answer": "1E2D", "answerType": "text", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 7", "prompt": "–î–∞–Ω—ã —á–µ—Ç—ã—Ä–µ —á–∏—Å–ª–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Å—á–∏—Å–ª–µ–Ω–∏—è. –°–∫–æ–ª—å–∫–æ —Å—Ä–µ–¥–∏ –Ω–∏—Ö —á–∏—Å–µ–ª, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–µ, —á–µ–º DE‚ÇÅ‚ÇÜ? –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "337‚Çà, 336‚Çà, 11011111‚ÇÇ, 11011101‚ÇÇ"]], "answer": "2", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 8", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 1871‚ÇÅ‚Çâ –∏–∑ –¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ –¥–µ–≤—è—Ç–µ—Ä–∏—á–Ω—É—é. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —á–∏—Å–ª–æ –≤ —Å–∏—Å—Ç–µ–º–µ —Å –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º 9.", "tableRows": [["–î–∞–Ω–æ", "1871‚ÇÅ‚Çâ"]], "answer": "14488", "answerType": "text", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 9", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 20HJ‚ÇÇ‚ÇÄ –∏–∑ –¥–≤–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ —Ç—Ä–æ–∏—á–Ω—É—é. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —á–∏—Å–ª–æ –≤ —Å–∏—Å—Ç–µ–º–µ —Å –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º 3.", "tableRows": [["–î–∞–Ω–æ", "20HJ‚ÇÇ‚ÇÄ"]], "answer": "211102220", "answerType": "text", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 10", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 865‚ÇÅ‚ÇÄ –∏–∑ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ —Å–µ–º–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—É—é. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —á–∏—Å–ª–æ (0‚Äì9, A‚ÄìG).", "tableRows": [["–î–∞–Ω–æ", "865‚ÇÅ‚ÇÄ"]], "answer": "2GF", "answerType": "text", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 11", "prompt": "–ò–∑ –¥–≤—É—Ö —á–∏—Å–µ–ª, –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, –≤—ã–±–µ—Ä–∏—Ç–µ —á–∏—Å–ª–æ, –≤ –¥–≤–æ–∏—á–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞–∏–º–µ–Ω—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—Ü. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—Ü.", "tableRows": [["–î–∞–Ω–æ", "100‚ÇÅ‚ÇÄ, 80‚ÇÅ‚ÇÄ"]], "answer": "2", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 12", "prompt": "–ò–∑ –¥–≤—É—Ö —á–∏—Å–µ–ª, –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, –≤—ã–±–µ—Ä–∏—Ç–µ —á–∏—Å–ª–æ, —Å—É–º–º–∞ —Ü–∏—Ñ—Ä –∫–æ—Ç–æ—Ä–æ–≥–æ –≤ –≤–æ—Å—å–º–µ—Ä–∏—á–Ω–æ–π –∑–∞–ø–∏—Å–∏ –Ω–∞–∏–º–µ–Ω—å—à–∞—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —ç—Ç—É —Å—É–º–º—É —Ü–∏—Ñ—Ä.", "tableRows": [["–î–∞–Ω–æ", "55‚ÇÅ‚ÇÄ, 83‚ÇÅ‚ÇÄ"]], "answer": "6", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 13", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 306‚Çà –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "306‚Çà"]], "answer": "198", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 14", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 305‚Çà –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "305‚Çà"]], "answer": "197", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 15", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 11001001‚ÇÇ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "11001001‚ÇÇ"]], "answer": "201", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 16", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 11001010‚ÇÇ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "11001010‚ÇÇ"]], "answer": "202", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 17", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ C9‚ÇÅ‚ÇÜ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "C9‚ÇÅ‚ÇÜ"]], "answer": "201", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 18", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 155‚Çà –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "155‚Çà"]], "answer": "109", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 19", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 154‚Çà –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "154‚Çà"]], "answer": "108", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 20", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 1101111‚ÇÇ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "1101111‚ÇÇ"]], "answer": "111", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 21", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 1110000‚ÇÇ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "1110000‚ÇÇ"]], "answer": "112", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 22", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 6F‚ÇÅ‚ÇÜ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "6F‚ÇÅ‚ÇÜ"]], "answer": "111", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 23", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 337‚Çà –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "337‚Çà"]], "answer": "223", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 24", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 336‚Çà –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "336‚Çà"]], "answer": "222", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 25", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 11011111‚ÇÇ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "11011111‚ÇÇ"]], "answer": "223", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 26", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 11011101‚ÇÇ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "11011101‚ÇÇ"]], "answer": "221", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 27", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ DE‚ÇÅ‚ÇÜ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "DE‚ÇÅ‚ÇÜ"]], "answer": "222", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 28", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 28‚ÇÅ‚ÇÜ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "28‚ÇÅ‚ÇÜ"]], "answer": "40", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 29", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 47‚Çà –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "47‚Çà"]], "answer": "39", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}, {"title": "–ó–∞–¥–∞–Ω–∏–µ 30", "prompt": "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 101010‚ÇÇ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å—á–∏—Å–ª–µ–Ω–∏—è. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.", "tableRows": [["–î–∞–Ω–æ", "101010‚ÇÇ"]], "answer": "42", "answerType": "number", "hint": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–µ–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ."}];
const STORAGE_KEY_TASKS = "oge10_tasks_v1";
const STORAGE_KEY_STATE = "oge10_state_v1";
const STORAGE_KEY_PIN = "oge10_pin_hash_v1";
const DEFAULT_PIN = "1234";

function normAnswer(s){ return (s??"").toString().trim().replace(/\s+/g,"").toUpperCase(); }
function isNumericLike(s){ return /^-?\d+$/.test(s); }
async function sha256Hex(str){
  const data=new TextEncoder().encode(str);
  const hash=await crypto.subtle.digest("SHA-256", data);
  return Array.from(new Uint8Array(hash)).map(b=>b.toString(16).padStart(2,"0")).join("");
}

function loadTasks(){
  try{
    const saved=localStorage.getItem(STORAGE_KEY_TASKS);
    if(!saved) return structuredClone(DEFAULT_TASKS);
    const parsed=JSON.parse(saved);
    if(!Array.isArray(parsed) || parsed.length!==DEFAULT_TASKS.length) return structuredClone(DEFAULT_TASKS);
    return parsed;
  }catch{ return structuredClone(DEFAULT_TASKS); }
}
function saveTasks(ts){ localStorage.setItem(STORAGE_KEY_TASKS, JSON.stringify(ts)); }

function loadState(){
  try{ const s=localStorage.getItem(STORAGE_KEY_STATE); return s?JSON.parse(s):null; }catch{ return null; }
}
function saveState(st){ localStorage.setItem(STORAGE_KEY_STATE, JSON.stringify(st)); }

let tasks=loadTasks();
let state=loadState() || { index:0, solved:Array(tasks.length).fill(false), correct:Array(tasks.length).fill(false),
  attempts:Array(tasks.length).fill(0), usedHint:Array(tasks.length).fill(false), history:[] };
// –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ–º –ø–æ–∫–∞–∑ —Å 1-–≥–æ –∑–∞–¥–∞–Ω–∏—è (–∏–Ω–¥–µ–∫—Å 0)
state.index = 0;

let tableScale=1;

const el=(id)=>document.getElementById(id);
const els={ taskCounter:el("taskCounter"), taskTitle:el("taskTitle"), taskPrompt:el("taskPrompt"),
  taskTableBody:el("taskTableBody"), answerInput:el("answerInput"), msg:el("msg"),
  score:el("score"), percentBadge:el("percentBadge"), kSolved:el("kSolved"), kCorrect:el("kCorrect"),
  kWrong:el("kWrong"), kHints:el("kHints"), barFill:el("barFill"), historyBtn:el("historyBtn"),
  history:el("history"), note:el("note") };

function setMsg(text, kind=""){
  els.msg.textContent=text;
  els.msg.className="msg"+(kind?" "+kind:"");
}
function updateProgress(){
  const correctCount=state.correct.filter(Boolean).length;
  els.kSolved.textContent=state.solved.filter(Boolean).length;
  els.kCorrect.textContent=correctCount;
  els.kWrong.textContent=state.history.filter(h=>h.result==="wrong").length;
  els.kHints.textContent=state.usedHint.filter(Boolean).length;
  const percent=Math.round((correctCount/tasks.length)*100);
  els.percentBadge.textContent=percent+"%";
  els.barFill.style.width=percent+"%";
  els.score.textContent=correctCount;
  if(state.history.length){
    const last=state.history[state.history.length-1];
    els.note.textContent=`–ü–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞: ${last.title} ‚Äî ${last.result==="ok"?"–≤–µ—Ä–Ω–æ":"–æ—à–∏–±–∫–∞"}.`;
  }else{
    els.note.textContent="–ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å. –ú–æ–∂–Ω–æ —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –ø–æ –ø–æ—Ä—è–¥–∫—É –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –Ω–∞–∑–∞–¥.";
  }
  saveState(state);
}
function render(){
  const i=state.index, t=tasks[i];
  els.taskCounter.textContent=`${i+1}/${tasks.length}`;
  els.taskTitle.textContent=t.title;
  els.taskPrompt.textContent=t.prompt;
  els.taskTableBody.innerHTML="";
  for(const row of t.tableRows){
    const tr=document.createElement("tr");
    const th=document.createElement("th"); th.textContent=row[0];
    const td=document.createElement("td"); td.textContent=row[1];
    tr.appendChild(th); tr.appendChild(td);
    els.taskTableBody.appendChild(tr);
  }
  els.answerInput.value="";
  els.answerInput.focus();
  if(state.solved[i]){
    setMsg(state.correct[i] ? "–≠—Ç–æ –∑–∞–¥–∞–Ω–∏–µ —É–∂–µ —Ä–µ—à–µ–Ω–æ –≤–µ—Ä–Ω–æ. –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –¥–∞–ª—å—à–µ." : "–≠—Ç–æ –∑–∞–¥–∞–Ω–∏–µ —É–∂–µ —Ä–µ—à–∞–ª–æ—Å—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑ –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫—É.", state.correct[i] ? "good" : "");
  }else{
    setMsg("–°–æ–≤–µ—Ç: –≤–≤–æ–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç. –ü—Ä–æ–±–µ–ª—ã –∏ –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è.");
  }
  updateProgress();
}
function checkAnswer(){
  const i=state.index, t=tasks[i];
  const user=normAnswer(els.answerInput.value);
  const right=normAnswer(t.answer);
  if(!user){ setMsg("–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ –ø–æ–ª–µ.","bad"); return; }
  state.attempts[i]=(state.attempts[i]||0)+1;
  let ok=false;
  if(t.answerType==="number"){ ok=isNumericLike(user) && user===right; }
  else ok=user===right;

  state.solved[i]=true; state.correct[i]=ok;
  state.history.push({ ts:Date.now(), index:i, title:t.title, user, right, result: ok?"ok":"wrong" });

  setMsg(ok ? "–í–µ—Ä–Ω–æ! –û—Ç–ª–∏—á–Ω–æ." : "–ü–æ–∫–∞ –Ω–µ–≤–µ—Ä–Ω–æ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–≤–æ–¥/—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.", ok ? "good":"bad");
  updateProgress();
}
function next(){ state.index=Math.min(tasks.length-1, state.index+1); render(); }
function prev(){ state.index=Math.max(0, state.index-1); render(); }
function resetAll(){
  if(!confirm("–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å?")) return;
  state={ index:0, solved:Array(tasks.length).fill(false), correct:Array(tasks.length).fill(false),
    attempts:Array(tasks.length).fill(0), usedHint:Array(tasks.length).fill(false), history:[] };
  saveState(state); render();
}
function showHint(){
  const i=state.index; state.usedHint[i]=true;
  const t=tasks[i];
  setMsg("–ü–æ–¥—Å–∫–∞–∑–∫–∞: "+(t.hint || "–°–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–∞ –∫ –æ–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è (–æ–±—ã—á–Ω–æ –∫ 10-–π), –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ."));
  updateProgress();
}
function toggleHistory(){
  els.history.style.display = (els.history.style.display==="none") ? "block" : "none";
  if(els.history.style.display==="block"){
    const last=state.history.slice(-8).reverse().map(h=>{
      const when=new Date(h.ts).toLocaleTimeString([], {hour:"2-digit", minute:"2-digit"});
      return `${when} ‚Ä¢ ${h.title} ‚Ä¢ ${h.result==="ok"?"–≤–µ—Ä–Ω–æ":"–æ—à–∏–±–∫–∞"}`;
    }).join("\n");
    els.history.textContent=last || "–ü–æ–∫–∞ –ø–æ–ø—ã—Ç–æ–∫ –Ω–µ—Ç.";
  }
}
function setScale(s){
  tableScale=Math.max(0.8, Math.min(1.6, s));
  document.documentElement.style.setProperty("--tableScale", tableScale.toFixed(2));
}
function toggleFullscreen(){
  if(!document.fullscreenElement) document.documentElement.requestFullscreen?.();
  else document.exitFullscreen?.();
}

// help
const helpOverlay=el("helpOverlay");
el("helpBtn").addEventListener("click", ()=>helpOverlay.style.display="flex");
el("helpClose").addEventListener("click", ()=>helpOverlay.style.display="none");
helpOverlay.addEventListener("click",(e)=>{ if(e.target===helpOverlay) helpOverlay.style.display="none"; });

// teacher
const teacherOverlay=el("teacherOverlay");
const teacherLocked=el("teacherLocked");
const teacherUnlocked=el("teacherUnlocked");
const pinInput=el("pinInput");
const pinEnterBtn=el("pinEnterBtn");
const pinMsg=el("pinMsg");
const teacherList=el("teacherList");
const saveMsg=el("saveMsg");

el("teacherBtn").addEventListener("click", async ()=>{
  teacherOverlay.style.display="flex";
  pinMsg.style.display="none";
  teacherLocked.style.display="block";
  teacherUnlocked.style.display="none";
  pinInput.value=""; pinInput.focus();
  if(!localStorage.getItem(STORAGE_KEY_PIN)){
    localStorage.setItem(STORAGE_KEY_PIN, await sha256Hex(DEFAULT_PIN));
  }
});
el("teacherClose").addEventListener("click", ()=>teacherOverlay.style.display="none");
teacherOverlay.addEventListener("click",(e)=>{ if(e.target===teacherOverlay) teacherOverlay.style.display="none"; });

pinEnterBtn.addEventListener("click", async ()=>{
  const enteredHash=await sha256Hex(pinInput.value||"");
  const stored=localStorage.getItem(STORAGE_KEY_PIN)||"";
  if(enteredHash!==stored){
    pinMsg.textContent="–ù–µ–≤–µ—Ä–Ω—ã–π PIN-–∫–æ–¥.";
    pinMsg.className="msg bad";
    pinMsg.style.display="block";
    return;
  }
  teacherLocked.style.display="none";
  teacherUnlocked.style.display="block";
  el("tCount").textContent=tasks.length;
  renderTeacherList();
  saveMsg.style.display="none";
});
pinInput.addEventListener("keydown",(e)=>{ if(e.key==="Enter") pinEnterBtn.click(); });

function renderTeacherList(){
  teacherList.innerHTML="";
  tasks.forEach((t, idx)=>{
    const wrap=document.createElement("div"); wrap.className="tItem";
    const top=document.createElement("div"); top.className="tTop";
    const left=document.createElement("div");
    left.innerHTML = `<strong>${t.title}</strong> <span style="color:#5b7a98;font-weight:850">(${idx+1}/${tasks.length})</span>`;
    const right=document.createElement("div"); right.innerHTML=`<span class="badge">–æ—Ç–≤–µ—Ç</span>`;
    top.appendChild(left); top.appendChild(right);

    const ans=document.createElement("div"); ans.className="tAns";
    const type=document.createElement("span"); type.className="badge";
    type.textContent = t.answerType==="number" ? "—á–∏—Å–ª–æ" : "—Ç–µ–∫—Å—Ç";
    const inp=document.createElement("input");
    inp.value=t.answer;
    inp.dataset.idx=idx;
    ans.appendChild(type); ans.appendChild(inp);

    const hint=document.createElement("div"); hint.className="hintSmall";
    hint.textContent = t.hint ? ("–ü–æ–¥—Å–∫–∞–∑–∫–∞: "+t.hint) : "–ü–æ–¥—Å–∫–∞–∑–∫–∞: ‚Äî";

    wrap.appendChild(top); wrap.appendChild(ans); wrap.appendChild(hint);
    teacherList.appendChild(wrap);
  });
}

el("saveEditsBtn").addEventListener("click", ()=>{
  teacherList.querySelectorAll("input[data-idx]").forEach(inp=>{
    const idx=Number(inp.dataset.idx);
    if(!Number.isNaN(idx) && tasks[idx]) tasks[idx].answer = inp.value;
  });
  saveTasks(tasks);
  saveMsg.textContent="–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.";
  saveMsg.className="msg good";
  saveMsg.style.display="block";
});

el("changePinBtn").addEventListener("click", async ()=>{
  const np=el("newPin").value||"";
  if(np.length<4){
    saveMsg.textContent="PIN –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –∫–æ—Ä–æ—á–µ 4 —Å–∏–º–≤–æ–ª–æ–≤.";
    saveMsg.className="msg bad";
    saveMsg.style.display="block";
    return;
  }
  localStorage.setItem(STORAGE_KEY_PIN, await sha256Hex(np));
  el("newPin").value="";
  saveMsg.textContent="PIN-–∫–æ–¥ –∏–∑–º–µ–Ω—ë–Ω.";
  saveMsg.className="msg good";
  saveMsg.style.display="block";
});

el("restoreBtn").addEventListener("click", ()=>{
  if(!confirm("–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Ç—Ä–µ–Ω–∞–∂—ë—Ä–∞? –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã.")) return;
  tasks=structuredClone(DEFAULT_TASKS);
  saveTasks(tasks);
  state={ index:0, solved:Array(tasks.length).fill(false), correct:Array(tasks.length).fill(false),
    attempts:Array(tasks.length).fill(0), usedHint:Array(tasks.length).fill(false), history:[] };
  saveState(state);
  renderTeacherList();
  render();
  saveMsg.textContent="–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.";
  saveMsg.className="msg good";
  saveMsg.style.display="block";
});

// buttons
el("checkBtn").addEventListener("click", checkAnswer);
el("nextBtn").addEventListener("click", next);
el("prevBtn").addEventListener("click", prev);
el("resetBtn").addEventListener("click", resetAll);
el("hintBtn").addEventListener("click", showHint);
el("historyBtn").addEventListener("click", toggleHistory);
el("zoomInBtn").addEventListener("click", ()=>setScale(tableScale+0.1));
el("zoomOutBtn").addEventListener("click", ()=>setScale(tableScale-0.1));
el("fsBtn").addEventListener("click", toggleFullscreen);
els.answerInput.addEventListener("keydown",(e)=>{ if(e.key==="Enter") checkAnswer(); });

setScale(1);
render();
</script>
</body>
</html>
